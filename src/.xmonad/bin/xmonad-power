#!/bin/zsh

if [ "$1" = 'select' ]; then
  [ -f ~/.config/dmenurc ] && . ~/.config/dmenurc || DMENU=''

  RET=$(echo -e "halt\nreboot\nlock\nlogout" | dmenu -p 'Power' ${=DMENU})

  case $RET in
    halt) halt -p ;;
    reboot) reboot ;;
    lock) systemctl suspend ;;
    logout) xdotool key "super+shift+q" ;;
    *) ;;
  esac
elif [ "$1" = 'restart' ]; then
  xmonad --recompile && xmonad --restart
  notify-send "xmonad" "Compiled and Restarted xmonad"
fi
