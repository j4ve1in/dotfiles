#!/bin/bash

revert() { xset dpms 0 0 0; }

trap revert HUP INT TERM
xset +dpms dpms 5 5 5
xset dpms force off
if [[ $1 = --suspend ]]; then
  LC_ALL=en_US.UTF-8 i3lock -ui ~/.local/share/i3/lockscreen.png
  systemctl suspend
else
  LC_ALL=en_US.UTF-8 i3lock -uni ~/.local/share/i3/lockscreen.png
fi
revert
