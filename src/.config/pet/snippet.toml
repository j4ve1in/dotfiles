[[snippets]]
  description = "Update known_hosts file"
  command = "fillin \"ssh-keygen -R {{ssh:host}} && ssh-keyscan -Hp {{ssh:port}} {{ssh:host}} >>~/.ssh/known_hosts\""
  tag = ["ssh"]
  output = ""

[[snippets]]
  description = "Remove dangling images"
  command = "docker image ls -qf dangling=true | xargs -tr docker image rm"
  tag = ["docker"]
  output = ""

[[snippets]]
  description = "Remove dangling volumes"
  command = "docker volume ls -qf dangling=true | xargs -tr docker volume rm"
  tag = ["docker"]
  output = ""

[[snippets]]
  description = "Show 256 color"
  command = "for n in {000..255}; do print -nP \"%F{$n}$n %f\"; (( $n % 16 == 15 )) && echo; done"
  tag = ["zsh", "color"]
  output = ""

[[snippets]]
  description = "Check http status code"
  command = "fillin curl -LI {{http_code:url}} -w '%{http_code}\\n' -o /dev/null -s"
  tag = ["http", "status"]
  output = ""

[[snippets]]
  description = "Start system upgrade"
  command = "pacaur -Syu && needrestart"
  tag = ["archlinux"]
  output = ""

[[snippets]]
  description = "Check zsh load time"
  command = "repeat 10 time zsh -i -c exit"
  tag = ["zsh"]
  output = ""

[[snippets]]
  description = "Show git alias"
  command = "git config --get-regexp alias | sed 's/alias\\.\\([^ ]*\\) \\(.*\\)/\\1\\t -> \\2/'"
  tag = ["git"]
  output = ""

[[snippets]]
  description = "Show DigitalOcean API"
  command = "fillin 'curl -X GET -H \"Content-Type: application/json\" -H \"Authorization: Bearer `envchain do printenv DIGITALOCEAN_ACCESS_TOKEN`\" \"https://api.digitalocean.com/v2/{{do:object}}\"'"
  tag = ["api", "do"]
  output = ""

[[snippets]]
  description = "Create git repository"
  command = "fillin 'mkdir `ghq root`/github.com/$USER/{{ghq:dir}} && git -C $_ init'"
  tag = ["git"]
  output = ""

[[snippets]]
  description = "Measure the amount of time elapsed"
  command = "bash -c 'time read' 2>&1 | awk 'NR==2{print $2}'"
  tag = ["stopwatch"]
  output = ""

[[snippets]]
  description = "Flush DNS cache"
  command = "sudo pdnsd-ctl empty-cache"
  tag = ["dns", "cache"]
  output = ""

[[snippets]]
  description = "Remove cache and optimize database"
  command = "sudo pacman -Sc && sudo pacman-optimize"
  tag = ["archlinux"]
  output = ""

[[snippets]]
  description = "Analyze system boot-up performance"
  command = "sudo systemd-analyze"
  output = ""
