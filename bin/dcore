#!/bin/zsh

typeset -g DROOT=~/.files
typeset -g DDIR=$DROOT/src
typeset -g DIGNORE=$DDIR/.ignore

typeset -g DPATH_TARGET="$DDIR/.{,config/}*"

typeset -g DPATH=($(zsh -c "printf '%s\n' ${DPATH_TARGET:=$DDIR/.*} | sort"))
for f in .ignore $(< $DIGNORE); do
  DPATH=($(printf '%s\n' $DPATH | grep -Fvx "$DDIR/$f"))
done
typeset -g DNAME=(${DPATH/$DDIR/~})
typeset -g DNUM=$#DPATH
